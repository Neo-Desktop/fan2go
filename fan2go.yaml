# The path of the database file.
dbPath: "/etc/fan2go/fan2go.db"

# Allow the fan initialization sequence to run in parallel for all configured fans
runFanInitializationInParallel: false
# The maximum difference between consecutive RPM measurements to
# consider a fan speed "settled"
maxRpmDiffForSettledFan: 10

# The rate to poll temperature sensors at.
tempSensorPollingRate: 200ms
# The number of temp sensor values to keep in a rolling window array.
tempRollingWindowSize: 10

# The rate to poll fan RPM input sensors at.
rpmPollingRate: 1s
# The number of rpm sensor values to keep in a rolling window array.
rpmRollingWindowSize: 10

# The rate to update fan speed targets at.
controllerAdjustmentTickRate: 200ms

# A list of fans to control.
fans:
  # An user defined ID.
  # Used for logging only.
  - id: cpu
    # The platform of the controller which is
    # connected to this fan (see sensor.platform above).
    platform: cpu
    # The index of this fan as displayed by `sensors`.
    fan: 1
    # Indicates whether this fan is allowed to fully stop.
    neverStop: yes
    # The curve ID (defined above) that should be used to determine the
    # speed of this fan.
    curve: cpu_curve

  - id: in_front
    platform: it8620
    fan: 4
    neverStop: yes
    curve: case_avg_curve

  - id: out_back
    platform: it8620
    fan: 5
    neverStop: yes
    curve: case_avg_curve

# A list of sensors to monitor.
sensors:
  # A user defined ID, which is used to reference
  # a sensor in a curve configuration (see below)
  - id: cpu_package
    # The controller platform as displayed by `fan2go detect`, f.ex.:
    # "nouveau", "coretemp" or "it8620" etc.
    platform: coretemp
    # The index of this sensor as displayed by `fan2go detect`.
    index: 1

  - id: mainboard
    platform: it8620
    index: 3

  - id: sata_ssd
    platform: acpitz
    index: 1

# A list of control curves which can be utilized by fans
# or other curves.
curves:
  - id: cpu_curve
    # The type of the curve.
    type: linear
    # Parameters needed for the given curve type.
    params:
      # The sensor ID to use as a temperature input.
      sensor: cpu_package
      # Steps to define a section-wise defined speed curve function.
      steps:
        # Sensor value -> Speed (in percent)
        - 40: 0
        - 50: 30
        - 80: 100

  - id: mainboard_curve
    type: linear
    params:
      sensor: mainboard
      # Sensor input value at which the curve is at minimum speed.
      min: 40
      # Sensor input value at which the curve is at maximum speed.
      max: 80

  - id: ssd_curve
    type: linear
    params:
      sensor: sata_ssd
      min: 40
      max: 70

  - id: case_avg_curve
    type: function
    params:
      # Type of aggregation function to use, on of: minimum | maximum | average .
      function: average
      # A list of curve IDs to use.
      curves:
        - cpu_curve
        - mainboard_curve
        - ssd_curve
